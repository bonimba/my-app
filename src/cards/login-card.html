<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/google-signin/google-signin.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animations.html">
<link rel="import" href="../data/signin-data.html">
<link rel="import" href="../button/signin-custom.html">


<dom-module id="login-card" >
    <template>
        <style>
            :host {
                display: block;
                box-sizing: border-box;
            }

            paper-dialog{
                width: 300px;
                height: 150px;
            }
        </style>
        <paper-dialog
                id="dialog"
                modal="true"
                always-on-top="true"
                with-backdrop="true"
                entry-animation="scale-up-animation"
                exit-animation="fade-out-animation">

            <p>
                To use youTuner is necessary to sign in to youTube:
            </p>

            <signin-data client-id="[[clientId]]" ></signin-data>
            <signin-custom client-id="[[clientId]]" signed-in="{{signedIn}}"></signin-custom>
        </paper-dialog>

    </template>
    <script>
        Polymer({
            is: 'login-card',

            properties: {
                clientId:{
                    type: String,
                    value: "288236233563-3d2recbph673vlbtbihe2ii4dbhbpif7.apps.googleusercontent.com",
                    readOnly: true
                },

                signedIn:{
                    type: Boolean,
                    value: false,
                    observer: '_openDialog'
                }
            },

            _openDialog: function(){
                if(this.signedIn === false){
                    this.$.dialog.open();
                }
            }

        });
    </script>

</dom-module>